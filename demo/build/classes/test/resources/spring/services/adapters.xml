<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd">
	
	<!--
		Configuration and setup for adapters to external service providers.
		These include adapters for:
		
		* SMS
		* Voice/IVR (Twilio)
		* Payment Gateway (First Data)
		* Background and Drug Screening (Acxiom)
		* Asset Management and Content Delivery (AWS)
		* Geocoder (Google)
	-->

	<bean id="paymentAdapter" class="${payment.adapterClass}" />
	<bean id="voiceAdapter" class="${voice.adapterClass}" />
	<bean id="remoteFileAdapter" class="${remoteFile.adapterClass}" />
	<bean id="linkShortenerAdapter" class="com.workmarket.service.external.GoogleShortUrlMockAdapterImpl" />
	<bean id="buyerSignUpAdapter" class="${buyerSignUp.adapterClass}" />
	<bean id="externalScreeningService" class="${screening.externalServiceClass}" />
	<bean id="afterShipGateway" class="${aftership.gatewayClass}" />

	<!-- Remote File Adapter -->

	<bean name="aWSConfigData" class="com.workmarket.service.infra.file.AWSConfigData">
		<property name="localAssetFileDirectory" value="${remoteFile.localAssetFileDirectory}" />
		<property name="remoteFileEnvironment" value="${remoteFile.remoteFileEnvironment}" />
		<property name="defaultUrlPrefix" value="${remoteFile.defaultUrlPrefix}" />
		<property name="cdnDevProdUrlPrefix" value="${remoteFile.cdnDevProdUrlPrefix}" />
		<property name="cdnProdPublicUrlPrefix" value="${remoteFile.cdnProdPublicUrlPrefix}" />
		<property name="defaultAuthorizedUrlExpiration" value="${remoteFile.defaultAuthorizedUrlExpiration}" />
		<property name="triggerMultipart" value="${remoteFile.triggerMultipart}" />
		<property name="basicAWSCredentials">
			<bean name="basicAWSCredentials" class="com.amazonaws.auth.BasicAWSCredentials">
				<constructor-arg value="${remoteFile.accessKey}" />
				<constructor-arg value="${remoteFile.secretKey}" />
			</bean>
		</property>
	</bean>

	<bean name="transferManager" class="com.amazonaws.services.s3.transfer.TransferManager">
		<constructor-arg>
			<bean class="com.amazonaws.auth.BasicAWSCredentials">
				<constructor-arg value="${remoteFile.accessKey}" />
				<constructor-arg value="${remoteFile.secretKey}" />
			</bean>
		</constructor-arg>
	</bean>
</beans>
